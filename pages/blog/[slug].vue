<script setup lang="ts">
const route = useRoute()
const slug = route.params.slug as string

// Article data (normally would come from a CMS or API)
const articles: Record<string, any> = {
  'reviser-efficacement': {
    title: 'Comment r√©viser efficacement ? Ce que dit la science',
    tag: 'Sciences cognitives',
    readTime: '4 min',
    content: `
      <h2>Comment r√©viser efficacement ? Ce que dit la science</h2>
      <p>La m√©morisation n'est pas une question de talent ou de "m√©moire photographique". C'est une question de <strong>m√©thode</strong>.</p>
      
      <h3>Le probl√®me des r√©visions traditionnelles</h3>
      <p>La plupart des √©tudiants r√©visent de la m√™me fa√ßon depuis des ann√©es :</p>
      <ul>
        <li>Relire leurs cours plusieurs fois</li>
        <li>Surligner des passages "importants"</li>
        <li>Faire des fiches de r√©vision</li>
      </ul>
      <p><strong>Le probl√®me ?</strong> Ces m√©thodes donnent l'<em>illusion</em> de progression mais ne cr√©ent pas de m√©morisation durable.</p>
      
      <h3>Ce que dit la science</h3>
      <p>Les sciences cognitives ont identifi√© 3 principes fondamentaux :</p>
      
      <h4>1. La r√©p√©tition espac√©e</h4>
      <p>Notre cerveau oublie naturellement les informations qu'il n'utilise pas. La courbe de l'oubli d'Ebbinghaus montre qu'on perd 70% d'une information apr√®s 24h si on ne la r√©vise pas.</p>
      <p><strong>La solution ?</strong> R√©viser au moment optimal - juste avant d'oublier.</p>
      
      <h4>2. Le test actif</h4>
      <p>Tester vos connaissances (plut√¥t que de relire passivement) force votre cerveau √† <strong>r√©cup√©rer</strong> l'information, ce qui renforce les connexions neuronales.</p>
      <p><strong>C'est pour √ßa que les flashcards fonctionnent.</strong></p>
      
      <h4>3. L'interleaving</h4>
      <p>M√©langer diff√©rents sujets pendant vos r√©visions (plut√¥t que de bloquer par chapitre) am√©liore votre capacit√© √† distinguer et appliquer les concepts.</p>
      
      <h3>Comment Major applique ces principes</h3>
      <p>Major utilise un algorithme bas√© sur ces 3 principes pour :</p>
      <ul>
        <li>Te dire <strong>exactement</strong> quoi r√©viser et <strong>quand</strong></li>
        <li>G√©n√©rer des flashcards automatiquement avec l'IA</li>
        <li>Suivre ta progression en temps r√©el</li>
      </ul>
      <p><strong>R√©sultat ?</strong> Tu m√©morises 3x plus en 2x moins de temps.</p>
      <p>Pr√™t √† r√©viser intelligemment ? <a href="/#inscription">Rejoins Major</a></p>
    `
  },
  'flashcards': {
    title: 'Pourquoi les flashcards sont l\'arme secr√®te des meilleurs √©tudiants',
    tag: 'M√©thodes',
    readTime: '3 min',
    content: `
      <h2>Pourquoi les flashcards sont l'arme secr√®te des meilleurs √©tudiants</h2>
      <p>Les √©tudiants en m√©decine, droit et pr√©pa le savent depuis longtemps : <strong>les flashcards sont l'outil de r√©vision le plus puissant</strong>.</p>
      
      <h3>Pourquoi les flashcards fonctionnent</h3>
      
      <h4>1. Test actif (active recall)</h4>
      <p>Au lieu de relire passivement, les flashcards te forcent √† <strong>r√©cup√©rer</strong> l'information de ta m√©moire. C'est exactement ce que tu feras pendant l'examen.</p>
      
      <h4>2. R√©p√©tition espac√©e</h4>
      <p>En utilisant un syst√®me comme Major, tu r√©vises automatiquement les cartes que tu oublies plus souvent, et moins souvent celles que tu ma√Ætrises.</p>
      
      <h4>3. M√©tacognition</h4>
      <p>Les flashcards te forcent √† √©valuer ta propre compr√©hension. "Est-ce que je connais vraiment cette r√©ponse ?"</p>
      
      <h3>Le probl√®me des flashcards traditionnelles</h3>
      <p>Cr√©er des flashcards manuellement prend <strong>√©norm√©ment de temps</strong>. C'est pour √ßa que beaucoup abandonnent.</p>
      
      <h3>La solution : l'IA</h3>
      <p>Major g√©n√®re automatiquement tes flashcards √† partir de tes cours en <strong>2 minutes</strong>.</p>
      <p>Plus d'excuse pour ne pas utiliser la m√©thode la plus efficace.</p>
      <p><a href="/#inscription">Essayer Major gratuitement</a></p>
    `
  },
  'major-de-promo': {
    title: 'Comment devenir major de promo : le guide complet',
    tag: 'Guide complet',
    readTime: '8 min',
    content: `
      <h2>Comment devenir major de promo : le guide complet</h2>
      <p>Au lyc√©e, j'avais 11 de moyenne. Le proviseur m'a dit que je n'arriverais jamais dans la fili√®re que j'avais demand√©e.</p>
      <p>Aujourd'hui, je majore mes √©tudes dans un domaine ultra-concurrentiel.</p>
      <p>Voici les <strong>8 principes</strong> qui ont fait la diff√©rence.</p>
      
      <h3>1. Syst√®me > Motivation</h3>
      <p>La motivation est volatile. Un syst√®me bien con√ßu est constant.</p>
      <p>Les meilleurs √©tudiants n'ont pas plus de volont√© - ils ont de meilleurs syst√®mes.</p>
      
      <h3>2. Qualit√© > Quantit√©</h3>
      <p>Travailler 10h par jour ne sert √† rien si tu ne retiens rien.</p>
      <p>Concentration totale pendant 3h > Distraction pendant 10h.</p>
      
      <h3>3. R√©p√©tition espac√©e > Bachotage</h3>
      <p>Le bachotage fonctionne pour l'examen de demain, pas pour une compr√©hension durable.</p>
      <p>La r√©p√©tition espac√©e te fait m√©moriser pour toujours.</p>
      
      <h3>4. Teste-toi constamment</h3>
      <p>Les examens blancs ne sont pas l√† pour "voir o√π tu en es". Ils SONT la r√©vision.</p>
      
      <h3>5. Dors suffisamment</h3>
      <p>Le sommeil consolide la m√©moire. Point final.</p>
      <p>6h de r√©visions + 8h de sommeil > 8h de r√©visions + 4h de sommeil.</p>
      
      <h3>6. Ne r√©vise pas seul dans ton coin</h3>
      <p>Rejoins une communaut√© d'√©tudiants ambitieux. L'√©mulation aide.</p>
      
      <h3>7. Track tout</h3>
      <p>Ce qui est mesur√© s'am√©liore. Suis tes heures de travail et ta productivit√©.</p>
      
      <h3>8. Utilise les bons outils</h3>
      <p>Tu ne construirais pas une maison avec un marteau et un clou. Utilise les outils modernes.</p>
      <hr>
      <p>C'est exactement pour √ßa que j'ai cr√©√© Major.</p>
      <p><a href="/#inscription">D√©couvrir Major</a></p>
    `
  },
  'gamification': {
    title: 'Gamification et √©tudes : comment les meilleurs restent motiv√©s',
    tag: 'Motivation',
    readTime: '2 min',
    content: `
      <h2>Gamification et √©tudes : comment les meilleurs restent motiv√©s</h2>
      <p>Pourquoi tu peux passer 5h sur un jeu vid√©o mais pas 1h √† r√©viser ?</p>
      <p><strong>La r√©ponse : les jeux sont con√ßus pour √™tre addictifs.</strong></p>
      
      <h3>Les principes de la gamification</h3>
      <p>Les jeux utilisent 4 m√©canismes psychologiques :</p>
      
      <h4>1. Feedback imm√©diat</h4>
      <p>Dans un jeu, tu sais tout de suite si tu progresses. Dans tes r√©visions... pas vraiment.</p>
      
      <h4>2. Objectifs clairs</h4>
      <p>"Atteindre le niveau suivant" est plus motivant que "r√©viser le droit civil".</p>
      
      <h4>3. Syst√®me de r√©compenses</h4>
      <p>Les points, badges et classements activent le circuit de la dopamine.</p>
      
      <h4>4. Comp√©tition saine</h4>
      <p>Se comparer aux autres (sainement) cr√©e de l'√©mulation.</p>
      
      <h3>Major applique ces principes</h3>
      <ul>
        <li>‚úÖ <strong>Feedback imm√©diat</strong> : Tu vois ta progression en temps r√©el</li>
        <li>‚úÖ <strong>Objectifs clairs</strong> : "R√©vise 2h aujourd'hui" au lieu de "R√©vise le chapitre 3"</li>
        <li>‚úÖ <strong>R√©compenses</strong> : S√©rie de jours cons√©cutifs, badges de progression</li>
        <li>‚úÖ <strong>Classement</strong> : Compare-toi aux autres √©tudiants (anonymement)</li>
      </ul>
      <p><strong>R√©sultat ?</strong> R√©viser devient aussi engageant qu'un jeu.</p>
      <p><a href="/#inscription">Essayer Major</a></p>
    `
  }
}

const article = articles[slug]

if (!article) {
  throw createError({ statusCode: 404, statusMessage: 'Article non trouv√©' })
}

useSeoMeta({
  title: `${article.title} | Major Blog`,
  description: article.content.substring(0, 160),
  ogTitle: article.title,
  ogDescription: article.content.substring(0, 160),
  ogImage: '/og-image.png',
  twitterCard: 'summary_large_image'
})
</script>

<template>
  <main class="blog-article-page">
    <article class="blog-article">
      <div class="container" style="max-width: 800px;">
        <!-- Article Header -->
        <header class="article-header">
          <div class="article-meta">
            <span :class="['blog-tag', `tag-${article.tag.toLowerCase().replace(' ', '-')}`]">
              {{ article.tag }}
            </span>
            <span class="blog-read-time">üìñ {{ article.readTime }}</span>
          </div>
          <h1 class="article-title">{{ article.title }}</h1>
        </header>

        <!-- Article Content -->
        <div class="article-content prose" v-html="article.content" />

        <!-- Article Footer -->
        <footer class="article-footer">
          <div class="article-cta-card">
            <h3>Pr√™t √† passer au niveau sup√©rieur ?</h3>
            <p>Rejoins les √©tudiants qui utilisent Major pour dominer leurs r√©visions.</p>
            <NuxtLink to="/#inscription" class="btn btn-primary btn-lg">
              Rejoindre Major gratuitement
            </NuxtLink>
          </div>

          <NuxtLink to="/blog" class="back-link">
            ‚Üê Retour au blog
          </NuxtLink>
        </footer>
      </div>
    </article>
  </main>
</template>

<style scoped>
.blog-article-page {
  padding-top: 117px; /* 45px banner + 72px header */
}

.blog-article {
  padding: var(--spacing-4xl) 0;
  background: var(--color-white);
}

.article-header {
  margin-bottom: var(--spacing-3xl);
  text-align: center;
}

.article-meta {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-lg);
}

.article-title {
  font-size: clamp(2rem, 5vw, 3rem);
  line-height: 1.2;
  color: var(--color-primary);
}

.article-content {
  font-size: 1.125rem;
  line-height: 1.8;
  color: var(--color-text);
  margin-bottom: var(--spacing-4xl);
}

.article-content :deep(h2) {
  margin-top: var(--spacing-3xl);
  margin-bottom: var(--spacing-lg);
  font-size: 1.75rem;
}

.article-content :deep(h3) {
  margin-top: var(--spacing-2xl);
  margin-bottom: var(--spacing-md);
  font-size: 1.375rem;
}

.article-content :deep(p) {
  margin-bottom: var(--spacing-lg);
}

.article-content :deep(ul), 
.article-content :deep(ol) {
  margin-bottom: var(--spacing-lg);
  padding-left: var(--spacing-xl);
}

.article-content :deep(li) {
  margin-bottom: var(--spacing-sm);
}

.article-content :deep(strong) {
  color: var(--color-primary);
  font-weight: 700;
}

.article-content :deep(a) {
  color: var(--color-primary);
  text-decoration: underline;
}

.article-footer {
  border-top: 2px solid var(--color-border);
  padding-top: var(--spacing-3xl);
}

.article-cta-card {
  background: linear-gradient(135deg, #0B1F3A 0%, #1a3a5f 100%);
  color: white;
  padding: var(--spacing-3xl);
  border-radius: var(--radius-2xl);
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.article-cta-card h3 {
  color: white;
  margin-bottom: var(--spacing-md);
}

.article-cta-card p {
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: var(--spacing-xl);
}

.back-link {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm);
  color: var(--color-text-light);
  text-decoration: none;
  font-weight: 500;
  transition: color var(--transition-base);
}

.back-link:hover {
  color: var(--color-primary);
}

/* Tag styles (same as blog.vue) */
.blog-tag {
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-full);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tag-sciences-cognitives {
  background: rgba(59, 130, 246, 0.1);
  color: #3B82F6;
}

.tag-m√©thodes {
  background: rgba(16, 163, 127, 0.1);
  color: #10A37F;
}

.tag-guide-complet {
  background: rgba(212, 167, 44, 0.2);
  color: #D4A72C;
}

.tag-motivation {
  background: rgba(239, 68, 68, 0.1);
  color: #EF4444;
}

.blog-read-time {
  font-size: 0.875rem;
  color: var(--color-text-light);
}
</style>
